//////////////////////////////////////////////////////////////
//															//
//			ADVANCED MONSTER SPAWNING SYSTEM 				//
//															//
//		PRESENCE OF BOSSES CHANGES MONSTER SPAWNING			//
//															//
//////////////////////////////////////////////////////////////
//	Idea - Lord Lothar
//	Code solution - Dreo 
//

Actor Base_Spawner
{
	+IsMonster
	+Shootable
	+NoBlockMap
	+NoInterAction
	+LookAllAround
	+DontBlast
	+Notarget
	+NoPain
	+NoDamage
	Health 0x7FFFFFFF
	Mass 0x7FFFFFFF
	Speed 0
	var int user_brandnewtid;
}

Actor Zombieman_Spawner : Base_Spawner Replaces ZombieMan
{
	States
	{
	
		Spawn:
			PSSS A 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
	
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx ("RifleZombie",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
	
		SpawnImp:
			TNT1 A 0 A_SpawnItemEx ("Imp",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check	
			
		ReplacePistol:
			TNT1 A 0 A_SpawnItemEx ("PistolZombie",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		ReplaceAxeman:
			TNT1 A 0 A_SpawnItemEx ("Labguy",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check	
			
		ReplaceChainsaw:
			TNT1 A 0 A_SpawnItemEx ("ChainsawZombie",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}

Actor Sergeant_Spawner : Base_Spawner Replaces ShotgunGuy
{
	States
	{
		Spawn:
			SHID A 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx ("ShotgunGuy1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		ReplaceSMG:
			TNT1 A 0 A_SpawnItemEx ("SMGGuy",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}

Actor Commando_Spawner : Base_Spawner Replaces ChaingunGuy
{
	States
	{
		Spawn:
			MPOS A 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
		
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx ("ChaingunGuy1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
		
		ReplaceRifle:
			TNT1 A 0 A_SpawnItemEx ("RifleCommando",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}

Actor Imp_Spawner : Base_Spawner Replaces DoomImp
{
	States
	{
		Spawn:
			TROS A 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx("Imp",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		CyberdemonUpgrade:
			TNT1 A 0 A_SpawnItemEx("CyberImp",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx("ShieldedImp",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
			
	}
}

Actor Demon_Spawner : Base_Spawner Replaces Demon
{
	States
	{
		Spawn:
			SARG Y 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:	
			TNT1 A 0 A_SpawnItemEx("BullDemon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		CyberdemonUpgrade:
			TNT1 A 0 A_SpawnItemEx("MechDemon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx("DemonSkeleton",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
			
		
	}
}

Actor Knight_Spawner : Base_Spawner Replaces HellKnight
{
	States
	{
		Spawn:
			BOS2 B 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx("HellKnight2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		SuperdemonUpgrade:
			TNT1 A 0 A_SpawnItemEx("BaronOfHell2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx("Afrit",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
			
	}
}

Actor Baron_Spawner : Base_Spawner Replaces BaronOfHell
{
	States
	{
		Spawn:
			BARO B 1
			TNT1 A 0 A_JumpIf(x == 304, "Boss1")
			TNT1 A 0 A_JumpIf(x == 528, "Boss2")
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait

		RealSpawn:
			TNT1 A 0 A_SpawnItemEx("BaronofHell2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!")) 
			Goto Check
			
		CyberdemonUpgrade:
			TNT1 A 0 A_SpawnItemEx("CyberBaron",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check

        SuperdemonUpgrade:
			TNT1 A 0 A_SpawnItemEx("Belphegor2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx("AfritLordLothar",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		Boss1:
			TNT1 A 0 A_SpawnItemEx ("BaronBoss1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG ,ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check	
		
		Boss2:
			TNT1 A 0 A_SpawnItemEx ("BaronBoss2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG ,ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
			
	}
}

Actor Cacodemon_Spawner : Base_Spawner Replaces Cacodemon
{
	States
	{
		Spawn:
			HEAD A 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx("Cacodemon_",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		SpiderUpgrade:
			TNT1 A 0 A_Jump(32, "SpiderSuperUpgrade")
			TNT1 A 0 A_SpawnItemEx("Aracnorb",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		SpiderSuperUpgrade:
			TNT1 A 0 A_SpawnItemEx("AracnorbQueen",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
	
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx("DarkServant",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
            Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
			
	}
}

//Don't use this cus' Juggernaut is to op...
Actor Mancubus_Spawner : Base_Spawner
{
	States
	{
		Spawn:
			FATT B 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx("NewMancubus",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		ReplaceJugg:
			TNT1 A 0 A_SpawnItemEx("Juggernaut",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		ReaplaceVoc:
			TNT1 A 0 A_SpawnItemEx("Volcabus",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}

Actor Archvile_Spawner : Base_Spawner Replaces Archvile
{
	States
	{
		Spawn:
			ARCH B 1
			MARN A 0 ACS_ExecuteAlways(177, 0, 0, 0, 0)//Check if you are playing on an Wolfenstein level
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx ("TehArchvile", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS, 0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		AvatarUpgrade:
			TNT1 A 0 A_SpawnItemEx ("Diabolist", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS, 0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}

Actor Cyberdemon_Spawner : Base_Spawner Replaces CyberDemon
{
	States
	{
		Spawn:
			CYBR D 1
			TNT1 A 0 ACS_NamedExecuteAlways("Schism_Spawner", 0, 0, 0, 0)
			TNT1 A 1
			Wait
			
		RealSpawn:
			TNT1 A 0 A_SpawnItemEx ("TheCyberDemon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
		
		ReplaceSuperDemon:
			TNT1 A 0 A_SpawnItemEx ("SuperDemon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check	
			
		ReplaceAvatar:
			TNT1 A 0 A_SpawnItemEx ("Avatar",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERAMBUSHFLAG | SXF_TRANSFERPOINTERS ,0, ACS_NamedExecuteWithResult("Get_Your_own_Tid_Now!"))
			Goto Check
			
		Check:
			TNT1 A 5 ACS_NamedExecuteAlways("Live_Check", 0, user_brandnewtid)
			Loop
		
		Execute:
			TNT1 A 5 A_Die
		
		Death:
			TNT1 A 1
			Stop
	}
}